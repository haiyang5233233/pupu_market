<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cykj.marketadmin.mapper.DataAnalysisMapper">
    <!--	管理员列表-->
    <select id="findOrderAddress" parameterType="java.util.HashMap" resultType="com.cykj.marketpojo.DataAnalysis">
        select IFNULL(b.total,0) as record,a.name as 'name' from t_shop a LEFT JOIN
        (select shop_id,count(*)as total from t_order_detail
        <where>
            <if test="startDate!=null">
                and create_time between #{startDate}
            </if>
            <if test="endDate!=null">
                and #{endDate}
            </if>
        </where>
         group by shop_id) b
        on a.id=b.shop_id where a.state=2
    </select>

</mapper>